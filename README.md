# ğŸ¤– Bambu Farm - æ‹“ç«¹æ‰“å°å†œåœºè‡ªåŠ¨åŒ–è°ƒåº¦ç³»ç»Ÿ

> **å‘Šåˆ«"äººç­‰æœº"ã€"æœºç­‰äºº"çš„ä½æ•ˆæ—¶ä»£ã€‚è®©æ‚¨çš„æ‹“ç«¹æ‰“å°æœºå®ç° 7x24 å°æ—¶æ— äººå€¼å®ˆè¿ç»­ç”Ÿäº§ã€‚**

## âš ï¸ é‡è¦è¯´æ˜ (å¿…è¯»)

1.  **å›ºä»¶ç‰ˆæœ¬è¦æ±‚**ï¼šç”±äºæ‹“ç«¹æœ€æ–°å›ºä»¶å°é”äº†å¤–éƒ¨ MQTT æŒ‡ä»¤ï¼Œä½¿ç”¨æœ¬ç³»ç»Ÿ**å¿…é¡»é™çº§å›ºä»¶**ã€‚
    *   **A1 mini**ï¼šéœ€é™çº§åˆ° `01.04.00.00` ç‰ˆæœ¬ã€‚
    *   **A1**ï¼šè¯·è‡ªè¡ŒæŸ¥æ‰¾æ”¯æŒ MQTT çš„æ—§ç‰ˆæœ¬å›ºä»¶ã€‚
2.  **ç¡¬ä»¶/Gcode è¦æ±‚**ï¼š
    *   å¿…é¡»æ·»åŠ â€œæ‰“å°ç»“æŸåè‡ªåŠ¨æ¢ç›˜â€çš„ç»“æŸ G-code ä»£ç ã€‚
    *   **ç¦æ­¢**æ·»åŠ â€œå¼€å§‹æ‰“å°è‡ªåŠ¨ä¸Šç›˜â€ä»£ç ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´å–·å˜´ç£¨ç›˜ã€‚
    *   å‚è€ƒé¡¹ç›®ï¼š[å…¨è‡ªåŠ¨æ¢æ¿ç¨³å®šæ— éœ€å¹²é¢„(A1 mini)](https://makerworld.com.cn/zh/models/1146204-quan-zi-dong-huan-ban-wen-ding-wu-xu-gan-yu-a1-min)
3.  **è¿è¡ŒåŸç†**ï¼šæœ¬ç³»ç»Ÿé€šè¿‡ MQTT åè®®å°† `gcode.3mf` æ–‡ä»¶å‘é€åˆ°æ‰“å°æœº SD å¡ä¸­ï¼Œå¹¶ç›‘æ§çŠ¶æ€å®ç°æŒ‰é¡ºåºè‡ªåŠ¨æ‰“å°ã€‚
4.  **æµ‹è¯•ç¯å¢ƒ**ï¼šæœ¬é¡¹ç›®å·²åœ¨ **A1 mini** ä¸Šäº²æµ‹é€šè¿‡ã€‚

---

## ğŸ¯ æ ¸å¿ƒç—›ç‚¹ä¸è§£å†³æ–¹æ¡ˆ

æ‚¨æ˜¯å¦é‡åˆ°è¿‡è¿™äº›é—®é¢˜ï¼Ÿ
*   ğŸ˜« **äº§èƒ½æµªè´¹**ï¼šæ‰“å°åœ¨åŠå¤œ 3 ç‚¹ç»“æŸï¼Œæœºå™¨ç©ºè½¬åˆ°å¤©äº®ï¼Œç™½ç™½æµªè´¹ 5 å°æ—¶äº§èƒ½ã€‚
*   ğŸ˜“ **ç¹çå®ˆå€™**ï¼šæœ‰ 20 ä¸ªé›¶ä»¶è¦æ‰“ï¼Œå¿…é¡»å®ˆåœ¨æ‰“å°æœºæ—ï¼Œæ‰“å®Œä¸€ä¸ªå»ç”µè„‘ä¸Šç‚¹ä¸‹ä¸€ä¸ªã€‚
*   ğŸ¤¯ **ç®¡ç†æ··ä¹±**ï¼šå¤šå°æ‰“å°æœºï¼Œä¸çŸ¥é“å“ªå°ç©ºé—²ï¼Œå“ªä¸ªæ–‡ä»¶æ‰“è¿‡äº†ã€‚

**Bambu Farm ä¸ºæ­¤è€Œç”Ÿï¼š**

### 1. ğŸš€ "è¾¹æ‰“è¾¹ä¼ " çš„é˜Ÿåˆ—ç³»ç»Ÿ
**å½»åº•è§£è€¦ã€å‡†å¤‡ã€‘ä¸ã€ç”Ÿäº§ã€‘ã€‚**
ä½ ä¸éœ€è¦ç­‰æ‰“å°æœºç©ºé—²äº†æ‰å»å‘é€ä»»åŠ¡ã€‚åœ¨æœºå™¨æ­£åœ¨æ‰“å° **ä»»åŠ¡A** æ—¶ï¼Œä½ å¯ä»¥éšæ—¶æŠŠ **ä»»åŠ¡Bã€Cã€D** æ‹–å…¥é˜Ÿåˆ—ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨æ’é˜Ÿï¼Œç­‰å¾…æœºå™¨å°±ç»ªã€‚

### 2. ğŸ”„ æ— ç¼è¡”æ¥çš„è‡ªåŠ¨è°ƒåº¦
**æœºå™¨ä¸ä¼‘æ¯ï¼Œä½ æ”¾å¿ƒç¡ã€‚**
é…åˆè‡ªåŠ¨æ¢ç›˜/æ¨æ–™ç»“æ„ï¼ˆæˆ–ç®€å•çš„å®šæ—¶æ¸…ç†ï¼‰ï¼Œç³»ç»Ÿæ£€æµ‹åˆ°æ‰“å°æœºå˜ä¸ºç©ºé—²ï¼ˆIdleï¼‰çš„é‚£ä¸€ç§’ï¼Œ**è‡ªåŠ¨ä¸‹å‘**é˜Ÿåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚å®ç°çœŸæ­£çš„ 7x24 å°æ—¶è¿ç»­ç”Ÿäº§ã€‚

### 3. âš–ï¸ å¤šæœºè´Ÿè½½å‡è¡¡ï¼ˆæ‰“å°æœºå¤ªå°‘ï¼Œæœªæµ‹è¯•ï¼‰
**æŠŠå†œåœºå½“æˆä¸€å°æœºå™¨ç”¨ã€‚**
å¦‚æœæ‚¨æœ‰ 3 å°æ‰“å°æœºï¼Œåªéœ€æŠŠ 50 ä¸ªä»»åŠ¡æ‰”è¿›æ€»é˜Ÿåˆ—ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨å°†ä»»åŠ¡åˆ†é…ç»™**æœ€å…ˆç©ºé—²**çš„é‚£å°æœºå™¨ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

*   **ğŸš€ æ‰¹é‡ä»»åŠ¡é˜Ÿåˆ—**ï¼šæ”¯æŒä¸€æ¬¡æ€§ä¸Šä¼ å‡ åä¸ªæ‰“å°ä»»åŠ¡ï¼Œç³»ç»Ÿè‡ªåŠ¨æ’é˜Ÿã€‚
*   **ğŸ¤– æ™ºèƒ½è°ƒåº¦**ï¼š
    *   è‡ªåŠ¨æ£€æµ‹æ‰“å°æœºçŠ¶æ€ï¼ˆç©ºé—²/æ‰“å°ä¸­/æ•…éšœï¼‰ã€‚
    *   ä¸€æ—¦æ‰“å°æœºç©ºé—²ï¼Œè‡ªåŠ¨ä¸‹å‘ä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚
    *   æ”¯æŒå¤šå°æ‰“å°æœºè´Ÿè½½å‡è¡¡ï¼ˆè‡ªåŠ¨åˆ†é…ç»™æœ€å…ˆç©ºé—²çš„æœºå™¨ï¼‰ã€‚
*   **ğŸ”„ è‡ªåŠ¨é‡è¯•ä¸çº é”™**ï¼š
    *   ä¸Šä¼ å¤±è´¥è‡ªåŠ¨é‡è¯•ï¼ˆé˜²æ­¢ç½‘ç»œæ³¢åŠ¨å¯¼è‡´ä»»åŠ¡ä¸¢å¤±ï¼‰ã€‚
    *   æ”¯æŒæ‰‹åŠ¨â€œæ’é˜Ÿâ€ï¼ˆæé«˜ä»»åŠ¡ä¼˜å…ˆçº§ï¼‰ã€‚
*   **ğŸ“‚ æ–‡ä»¶ç®¡ç†**ï¼šè‡ªåŠ¨è§£æ 3MF æ–‡ä»¶ç¼©ç•¥å›¾ï¼Œç›´è§‚ç®¡ç†æ¨¡å‹ã€‚
*   **ğŸ³ è½»æ¾éƒ¨ç½²**ï¼šåŸºäº Dockerï¼Œæ”¯æŒ Windows/Mac/NAS (ç¾¤æ™–/å¨è”é€š) ä¸€é”®éƒ¨ç½²ã€‚

---

## éƒ¨ç½²æŒ‡å— (ä»¥å¨è”é€š NAS ä¸ºä¾‹)

### 1. å‡†å¤‡å·¥ä½œ
*   ç¡®ä¿ NAS å·²å®‰è£… **Container Station**ã€‚
*   ä¸‹è½½æœ¬é¡¹ç›®çš„ä»£ç åŒ…ï¼Œè§£å‹å¾—åˆ° `backend` æ–‡ä»¶å¤¹ã€‚
*   å°† `backend` æ–‡ä»¶å¤¹ä¸Šä¼ åˆ° NASï¼ˆæ¨èè·¯å¾„ï¼š`/share/Container/bambu/backend`ï¼‰ã€‚

### 2. è·å–æ‰“å°æœºä¿¡æ¯
ä½ éœ€è¦çŸ¥é“ä½ çš„æ‹“ç«¹æ‰“å°æœºçš„ï¼š
*   **IP åœ°å€** (ä¾‹å¦‚ 192.168.31.175)
*   **è®¿é—®ç  (Access Code)** (åœ¨æ‰“å°æœºå±å¹•ä¸ŠæŸ¥çœ‹è®¾ç½® -> ç½‘ç»œ)
*   **åºåˆ—å· (Serial No)** (å¯é€‰ï¼Œä½†æ¨èå¡«)

### 3. åˆ›å»ºåº”ç”¨
1.  æ‰“å¼€ **Container Station** -> **åº”ç”¨ç¨‹åº (Applications)** -> **åˆ›å»º (Create)**ã€‚
2.  åº”ç”¨åç§°å¡« `bambu-farm`ã€‚
3.  å¤åˆ¶ä»¥ä¸‹ YAML ä»£ç ï¼ˆ**ä¿®æ”¹å…¶ä¸­çš„è·¯å¾„å’Œé…ç½®**ï¼‰ï¼š

```yaml
version: '3.8'
services:
  bambu-batch-manager:
    # âš ï¸ å¿…é¡»ä¿®æ”¹ä¸ºä½ çš„çœŸå®ä»£ç è·¯å¾„
    build: /share/Container/bambu/backend
    
    container_name: bambu_manager
    restart: always
    ports:
      - "3508:8000"  # è®¿é—®ç«¯å£æ”¹ä¸º 3508
    volumes:
      # âš ï¸ å»ºè®®ä¿®æ”¹ä¸ºçœŸå®è·¯å¾„ï¼Œç¡®ä¿æ•°æ®æŒä¹…åŒ–
      - /share/Container/bambu/data:/app/data
      - /share/Container/bambu/uploads:/app/uploads
      # - /share/Container/bambu/static:/app/static # æ¨èæ³¨é‡Šæ‰æ­¤è¡Œï¼Œç›´æ¥ä½¿ç”¨å†…ç½®ç½‘é¡µ
    environment:
      - TZ=Asia/Shanghai
      - PRINTER_IP=192.168.x.x      # ä½ çš„æ‰“å°æœº IP
      - ACCESS_CODE=12345678       # ä½ çš„è®¿é—®ç 
      - SERIAL_NO=0300AA5A...      # ä½ çš„åºåˆ—å·
      - SWAP_COOLDOWN=60           # æ‰“å°å®Œæˆåå†·å´æ—¶é—´(ç§’)
```
4. ç‚¹å‡»åˆ›å»ºï¼Œç­‰å¾…éƒ¨ç½²å®Œæˆã€‚

### 4. å¼€å§‹ä½¿ç”¨
åœ¨æµè§ˆå™¨è®¿é—® `http://NAS_IP:3508` å³å¯è¿›å…¥ç®¡ç†åå°ã€‚

---

## å¸¸è§é—®é¢˜ (FAQ)

**Q: éƒ¨ç½²æŠ¥é”™ "no such file or directory"ï¼Ÿ**
A: è¯·æ£€æŸ¥ YAML ä¸­çš„ `build` è·¯å¾„æ˜¯å¦å¡«å†™æ­£ç¡®ï¼Œå¿…é¡»æ˜¯ NAS é‡Œçš„ç»å¯¹è·¯å¾„ã€‚

**Q: æ‰“å¼€ç½‘é¡µæ˜¾ç¤º `{"detail":"Not Found"}`ï¼Ÿ**
A: **è¿™æ˜¯å› ä¸º Docker æŒ‚è½½è¦†ç›–äº†å®¹å™¨å†…çš„æ–‡ä»¶ã€‚**
*   **åŸå› **ï¼šå½“æ‚¨åœ¨ Docker é…ç½®ä¸­å°† NAS çš„ `static` ç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„ `/app/static` æ—¶ï¼Œå¦‚æœ NAS ä¸Šçš„ `static` ç›®å½•æ˜¯ç©ºçš„ï¼ˆæ–°å»ºçš„ï¼‰ï¼Œå®ƒä¼šè¦†ç›–å®¹å™¨é•œåƒé‡ŒåŸæœ¬å­˜åœ¨çš„ç½‘é¡µæ–‡ä»¶ã€‚
*   **è§£å†³æ–¹æ³•**ï¼š
    *   **æ–¹æ¡ˆä¸€ï¼ˆæ¨èï¼‰**ï¼šåœ¨ `docker-compose.yml` ä¸­**æ³¨é‡Šæ‰** `- .../static:/app/static` è¿™ä¸€è¡Œã€‚
    *   **æ–¹æ¡ˆäºŒ**ï¼šæ‰‹åŠ¨å°†æºç ä¸­çš„ `backend/static/index.html` ä¸Šä¼ åˆ° NAS çš„æŒ‚è½½ç›®å½•ã€‚

## å¼€æºåè®®
æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚
